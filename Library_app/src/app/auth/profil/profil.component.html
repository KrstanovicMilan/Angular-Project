
<section>
    <form #f="ngForm" (ngSubmit)="finishEditing(f)">
    <div fxLayoutAlign="space-between">
        <button mat-button [mat-dialog-close]="true">
            <mat-icon matListIcon>close</mat-icon>
        </button>
    
        <button mat-icon-button>
            <mat-icon matListIcon *ngIf="this.profileForInput.id == this.userService.currentUser.id" 
            (click)="this.isEditing = !this.isEditing" >edit</mat-icon>
        </button>
    
    </div>
    
    
    <mat-dialog-content>
        <form fxLayout="column" fxLayoutGap="2vh" #editForm="ngForm" (ngSubmit)="finishEditing(editForm)">
            
            <mat-card>
                <div fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="1vw">
                    <mat-icon>mail</mat-icon>
                    <div fxLayout="row" *ngIf="!this.isEditing" >
                        <mat-card-subtitle fxLayoutGap="15px">Email :</mat-card-subtitle>
                        <span>{{ this.profileForInput.email }}</span>
                    </div>
    
                    <mat-form-field *ngIf="this.isEditing">
                        <input matInput type="email" placeholder="Your email" ngModel name="email"
                               [(ngModel)]="this.profileForInput.email" required #emailInput="ngModel">
    
                        <mat-error *ngIf="emailInput.hasError('required')">Email is required</mat-error>
                        <mat-error *ngIf="emailInput.hasError('required')">Email has incorect format</mat-error>
                    </mat-form-field>
                </div>
            </mat-card>
            <!-- Ime -->
            <mat-card>
                <div fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="1vw">
                    <mat-icon>badge</mat-icon>
                    <div fxLayout="row" *ngIf="!this.isEditing" >
                        <mat-card-subtitle>Name  :</mat-card-subtitle>
                        <span>{{ this.profileForInput.ime }}</span>
                    </div>
    
                    <mat-form-field *ngIf="this.isEditing">
                        <input matInput type="text" placeholder="Your name" ngModel name="ime"
                        [(ngModel)]="this.profileForInput.ime">
    
                    </mat-form-field>
                </div>
            </mat-card>
<!------------prezime------- --> 
            <mat-card>
                <div fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="1vw">
                    <mat-icon>badge</mat-icon>
                    <div fxLayout="row" *ngIf="!this.isEditing" >
                        <mat-card-subtitle>Surname  :</mat-card-subtitle>
                        <span>{{ this.profileForInput.prezime }}</span>
                    </div>
    
                    <mat-form-field *ngIf="this.isEditing">
                        <input matInput type="text" placeholder="Your surname" ngModel name="prezime" 
                        [(ngModel)]="this.profileForInput.prezime" >
    
                     
                    </mat-form-field>
                </div>
            </mat-card>
            <!--Telefon-->
            <mat-card>
                <div fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="1vw">
                    <mat-icon>badge</mat-icon>
                    <div fxLayout="row" *ngIf="!this.isEditing" >
                        <mat-card-subtitle>Phone  :</mat-card-subtitle>
                        <span>{{ this.profileForInput.telefon }}</span>
                    </div>
    
                    <mat-form-field *ngIf="this.isEditing">
                        <input matInput type="text" placeholder="Your phone" ngModel name="telefon" 
                        [(ngModel)]="this.profileForInput.telefon">
                    </mat-form-field>
                </div>
            </mat-card>
            <!--Adresa-->
            <mat-card>
                <div fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="1vw">
                    <mat-icon>badge</mat-icon>
                    <div fxLayout="row" *ngIf="!this.isEditing" >
                        <mat-card-subtitle>Address  :</mat-card-subtitle>
                        <span>{{ this.profileForInput.adresa }}</span>
                    </div>
    
                    <mat-form-field *ngIf="this.isEditing">
                        <input matInput type="text" placeholder="Your address" ngModel name="adresa" 
                        [(ngModel)]="this.profileForInput.adresa">
                    </mat-form-field>
                </div>
            </mat-card>
    
    
    
    
            <mat-card *ngIf="this.isEditing">
                <div fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="1vw">
    
                    <mat-icon>lock</mat-icon>
                    <mat-form-field hintLabel="Minimum 8 caracter">
                        <input type="password" matInput placeholder="Your password" ngModel name="password" minlength="8" 
                        [(ngModel)]="this.profileForInput.password" required #passwordInput="ngModel">
    
                        <mat-hint align ="end">{{ passwordInput.value?.value }} / 8</mat-hint>
                    </mat-form-field>
    
                </div>
            </mat-card>
    
    
            <button *ngIf="this.isEditing" mat-raised-button type="submit" color="primary">Save user</button>
    
        </form>
    </mat-dialog-content>
    </form>
    </section>